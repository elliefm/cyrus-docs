:tocdepth: 3

==============================
Cyrus IMAP 3.0.0 beta2 Release Notes
==============================

.. WARNING::

    Cyrus IMAP 3.0 is under active development, and subject to change.

    Do **NOT** use this version unless you're a developer of sorts.

Download via HTTP:

    *   http://www.cyrusimap.org/releases/cyrus-imapd-3.0.0-beta2.tar.gz
    *   http://www.cyrusimap.org/releases/cyrus-imapd-3.0.0-beta2.tar.gz.sig

Download via FTP:

    *   ftp://ftp.cyrusimap.org/cyrus-imapd/cyrus-imapd-3.0.0-beta2.tar.gz
    *   ftp://ftp.cyrusimap.org/cyrus-imapd/cyrus-imapd-3.0.0-beta2.tar.gz.sig

.. _relnotes-3.0.0-beta2-changes:

Major changes
=============

.. *   Support added for FastMail-style conversations (threaded messages).
    (See the ``conversations`` options in :ref:`imapd.conf <imap-admin-configs-imapd.conf>`)

.. *   Optional Xapian_ integration for faster and shinier search. Note that this requires custom
    patches to Xapian, in this release. (See the ``search_engine`` option in
    :ref:`imapd.conf <imap-admin-configs-imapd.conf>`)

*   ^ docs and patches now included

.. *   Archive support has arrived! Requires addition of an archive partition. (See ``archive_*``
    options in :ref:`imapd.conf <imap-admin-configs-imapd.conf>`)

.. *   Basic JMAP_ support. (See ``httpmodules`` in :ref:`imapd.conf <imap-admin-configs-imapd.conf>`)

.. *   Optional ClamAV_ integration for AntiVirus support is now working again.
    Requires separate installation of ClamAV_. (See configure.ac ``--with-clamav=DIR``)

.. *   Dropped support for Berkeley DB.

.. *   The handling of configure options has changed, dropping support for
    ``--with-cyrus-prefix`` and ``--with-service-path`` in favour of the more conventional
    ``--prefix``, ``--bindir``, ``--sbindir``, and ``--libexecdir``.

.. *   Binaries executed by the :ref:`cyrus-master(8) <imap-admin-commands-cyrus-master>`
    service process are now installed to ``--libexecdir``.  Other binaries are installed to
    ``--bindir`` and/or ``--sbindir``.

*  * ^ includes idled

..     The ``make installbinsymlinks`` target can be used to set up symlinks to everything in
    ``--bindir``, if you need that in your environment.

*   Added support for replicating mailboxes/users to a particular partition.  ``sync_client``
    now accepts a ``-p`` option.

*   The ``defaultdomain`` setting in :ref:`imapd.conf <imap-admin-configs-imapd.conf>`
    now defaults to "internal" (was: NULL)

*   FIXME something about specialuse changes

*   FIXME imipnotifier

*   FIXME crc32 optimisation

*   FIXME objectstorage

*   FIXME uidl_format imapd.conf option

*   Added experimental backup service.  See FIXME

*   FIXME    sieve: support RFC5490 - mailbox and metadata

*   FIXME outbox_sendlater, notify_at

*   FIXME reverse ACLs 1e0c277

*   FIXME crossdomain d46db86


Significant bugfixes
====================

.. *   Lots of fixes to caldav and carddav.

*   ^ and more of these

..     Includes the addition of a new daemon (calalarmd) which periodically processes a global
    database containing the "next" alarm for each item, and sends the relevant mboxevents.
    (See configure.ac ``--with-calalarmd``)

.. *   Replication reliability fixes.

.. *   Improved ``LIST-EXTENDED``: more imap tests now succeed.

*   Miscellaneous fixes FIXME

*   Extensive cleanup of mailbox name handling

*   ``master`` now requests a sane maximum number of open file descriptors, and only
    complains if this isn't allowed.

*   Fixes to compiling on Solaris (thanks Jens Erat, Marty Lee)

*   Improved handling of mailbox renames during replication

Unsorted
========

77d3a53 sort: add 'spamscore' key - also search spamabove/spambelow
f239ee6 mboxlist: only keep 20 most recent deleted mailboxes for any particular name
f390123 imapd: davdrive magic


.. _Xapian: http://xapian.org
.. _ClamAV: http://www.clamav.net
.. _JMAP: http://jmap.io
